\section{Wstęp}
%\subsection{Geneza}
Tematem projektu, którego dotyczy ta praca jest: „Projekt i~realizacja stanowiska laboratoryjnego do badania zależności czasowych w~sieci EtherCAT". Zagadnienia związane z~tworzeniem oprogramowania dla sterowników przemysłowych są dla autora niezwykle interesujące, a zrealizowany projekt miał na~celu dalsze pogłębienie jego wiedzy z tego zakresu. Wyboru tego konkretnego tematu autor dokonał, ponieważ protokół EtherCAT jest jeszcze nowością i według wielu źródeł stanowi przyszłość branży informatyki przemysłowej \cite{art1, art2}, a~praca nad tym tematem wydaje się być pomocna i~wartościowa w przyszłej pracy zawodowej lub na~ewentualnym dalszym etapie kształcenia.

\subsection{Stanowisko laboratoryjne}
Na potrzeby realizacji projektu wykorzystano dwa różne istniejące stanowiska laboratoryjne, które składały się odpowiednio~z:
\begin{table}[!htb]
\begin{center}
\begin{tabular}{| p{0.51\textwidth} || p{0.51\textwidth} |}\hline
Stanowisko typu CP (Rysunek~\ref{stanowisko:cp}) & Stanowisko typu CX (Rysunek~\ref{stanowisko:cx})  \\\hline
\begin{enumerate}
\item 2~silniki AM3021-0C00-0000,
\item Wyspa EK1100 z~zestawem modułów~IO:
\begin{itemize}
\item Terminal sieci EtherCAT EK1100,
\item 2-kanałowy moduł wyjść analogowych EL4132,
\item 4-kanałowy moduł wejść cyfrowych EL1004,
\item 2 4-kanałowe moduły wyjść cyfrowych EL2004,
\item 2-kanałowy moduł wejść analogowych EL3102,
\end{itemize}
\item Napęd serwomechnizmów AX5203 (2~osiowy napęd),
\item Komputer przemysłowy C6925,
\item Zasilacz.
\end{enumerate}
&
\begin{enumerate}
\item 2~silniki AM3021-0C00-0000,
\item Zestaw modułów IO:
\begin{itemize}
\item 2-kanałowy moduł wyjść analogowych EL4132,
\item 4-kanałowy moduł wejść cyfrowych EL1004,
\item 2 4-kanałowe moduły wyjść cyfrowych EL2004,
\item 2-kanałowy moduł wejść analogowych EL3102,
\end{itemize}
\item Terminal sieci EtherCAT EK1100,
\item Napęd serwomechnizmów AX5203 (2~osiowy napęd),
\item Modułowy komputer przemysłowy CX1020:
\begin{itemize}
\item Interfejs USB/DVI CX1020-N010 ,
\item Ethernet CX1020-N000,
\item CPU CX1020-0113,
\item Zasilacz CPU i magistrali I/O CX1100-0004,
\end{itemize}
\item Zasilacz.
\end{enumerate}
\\\hline                                            
\end{tabular}
\end{center}
\vspace*{-6mm}
  \caption{Dostępne stanowiska laboratoryjne}
	\label{in}
\end{table}

\input{schematCP} %
\input{schematCX} %

\subsubsection{Sterownik PLC}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
soft plc
ahrd plc
opisać zasadę działania plc w beckhoffie
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Sterownik PLC wykorzystywany do realizacji projektu był wyposażony w następujące moduły:
\begin{enumerate}
\item SIMATIC S7-300, Jednostka centralna S7-300 CPU 315F-2 PN/DP,
\item SIMATIC S7-300, Zasilacz PS 307,
\item SIMATIC S7-300, Wejścia/Wyjścia cyfrowe SM 323,
\item SIMATIC S7-300, Wejścia/Wyjścia analogowe SM 334.
\end{enumerate}
%\begin{figure}[!htb] 	\centering 	\includegraphics[width=0.75\textwidth]{obrazki/sterownik.png} 	\caption{Siemens SIMATIC S7-300} \end{figure}
\indent
\indent Sterownik podłączony jest do sieci lokalnej Ethernet w~laboratorium, więc komunikacja z~nim odbywa się tak samo jak z~każdym innym urządzeniem sieciowym. Podstawy programowania i korzystania ze sterowników autor poznał zapoznając się z odpowiednią literaturą \cite{plc1,plc2,plc4,plc5,plc6}.
Konfigurację sterownika wraz z modułami przedstawia Rysunek~\ref{conf}.
%\begin{figure}[!htb] 	\centering 	\includegraphics[width=0.75\textwidth]{obrazki/conf.png} \caption{Konfiguracja sterownika PLC} \label{conf} \end{figure}
\subsubsection{Komputer}
Projekt w całości był realizowany na laptopie autora, podłączanym do~sieci w~laboratorium. Na~komputerze uruchomiana była maszyna wirtualna. Na~jednej zainstalowane było środowisko TwinCAT do~programowania sterownika oraz do~tworzenia i~uruchamiania wizualizacji. Wizualizacje tworzone w~środowisku TwinCAT można uruchomić bezpośrednio na~komputerze wyposażonym w~odpowiednie oprogramowanie lub na~urządzeniu docelowym po~podpięciu do~niego monitora (o~ile urządzenie docelowe posiada wyjście DVI lub odpowiedni interfejs systemowy w~postaci odrębnego modułu).

\subsection{Analiza tematu}
Analiza tematu polegała przede wszystkim na zapoznaniu się z~narzędziami programistycznymi do~tworzenia oprogramowania sterownika oraz wizualizacji.
W~wyniku analizy autor poznał podstawy obsługi środowiska TwinCAT oraz jego elementów składowych a w szczególności:
\begin{itemize}
\item TwinCAT System Manager - centralne narzędzie konfiguracyjne,
\item TwinCAT PLC - narzędzie do tworzenia programów,
\item TwinCAT NC/CNC - grupa narzędzi do sterowania osiami w różnych trybach.
\end{itemize} 

\subsection{EtherCAT}
zasada działania
topologia
źródła opóźnień
wady/zalety
itd.

\subsection{Założenia}
Oprogramowanie dla dostępnego stanowiska laboratoryjnego powinno zostać stworzone przy użyciu środowiska TwinCAT. Funkcjonalności robota wchodzące w~skład projektu, to:
\begin{itemize}
\item sterowanie ręczne z~pilota podłączonego bezpośrednio do~sterownika,
\item sterowanie ręczne z~wizualizacji,
\item sterowanie automatyczne, 
\item wizualizacja stanu stanowiska.
\end{itemize}
\indent
\indent Powyżej zostały wymienione założenia podstawowe, jednak autor nie wyklucza zrealizowania dodatkowych zadań, które nie zostały zamieszczone w~pierwotnej koncepcji realizacji projektu.

\subsection{Plan pracy}
Realizacja projektu została podzielona na następujące etapy:
\begin{itemize}
\item Zapoznanie się ze sterownikami Beckhoff oraz oprogramowaniem TwinCAT,
\item Zapoznanie się z dostępnymi serwonapędami Beckhoff,
\item Projekt i realizacja stanowiska,
\item Przygotowanie stanowiska do współpracy z systemem wizualizacji,
\item Testowanie i uruchamianie,
\item Przedstawienie projektu i~ewentualne korekty.
\end{itemize}
\indent
\indent Powyższy plan pracy stanowił dla autora wyznacznik kolejnych działań. Jednak powszechnie wiadomo, że w~praktyce poszczególne punkty są~wymienne i~wpływają na siebie wzajemnie.
